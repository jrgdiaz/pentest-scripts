import sys, requests, socketserver, http.server

#a very basic and buggy site cloner script
#python3 site_cloner.py [url_to_clone] [ip] [port]


if len(sys.argv) != 5:

    print("[~] Usage : python3 site_cloner.py [url_to_clone] [ip] [port] [html filename]")
    exit()

url = sys.argv[1]
ip = sys.argv[2]
port = int(sys.argv[3])
name = sys.argv[4]+".html"
html = requests.get(url,verify=False)
root_directory = "site_cloner"
open(name, "w",encoding='utf-8').write(html.text)
Handler = http.server.SimpleHTTPRequestHandler

with socketserver.TCPServer((ip, port), Handler) as httpd:
        print("url: http://"+ip+":"+str(port)+"/"+name)
        httpd.serve_forever()
